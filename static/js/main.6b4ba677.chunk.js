(this.webpackJsonppossum=this.webpackJsonppossum||[]).push([[0],{121:function(e,t,n){e.exports=n.p+"static/media/pay.618bef6c.png"},168:function(e,t,n){e.exports=n(269)},269:function(e,t,n){"use strict";n.r(t);n(169),n(195),n(197),n(198),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237);var a=n(0),r=n.n(a),c=n(54),o=n.n(c),l=n(25),i=n.n(l),u=n(48),s=n(22),m=n.n(s),d=n(30),f=n(6),p=n(123),h=n.n(p),g=(n(246),n(1)),E=(n(44),n(118)),b=n.n(E),v=n(119),y=n.n(v),O=function(e){var t=e.go,n=e.order;return r.a.createElement(g.k,{vertical:"top"},r.a.createElement(g.g,{onClick:function(){return t("cart")},className:"cellCart",description:r.a.createElement("span",{style:{color:"#FFF"}},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0445"),before:r.a.createElement("span",{style:{paddingRight:4,color:"antiquewhite"}},r.a.createElement(b.a,{width:30,height:30,style:{float:"left",padding:2}})),indicator:r.a.createElement("span",{style:{color:"aliceblue"}},r.a.createElement(y.a,{style:{float:"right",padding:2},height:20,width:20}),n.meta?n.meta.sum:0)},r.a.createElement(g.d,{style:{color:"antiquewhite"}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437: \u0442\u043e\u0432\u0430\u0440\u043e\u0432 - ",n.meta?n.meta.count:0)))},j=n(41),k=n.n(j),C=n(60),w=n.n(C),S=n(61),x=n.n(S),_=n(62),P=n.n(_),I=n(58),z=n.n(I),N=n(26),T=n(29),A={31:{title:"\u0426\u0432\u0435\u0442"},35:{title:"\u0412\u0435\u0441",m:"\u0433\u0440"},42:{title:"\u0412\u043a\u0443\u0441"},43:{title:"\u0414\u0438\u0430\u043c\u0435\u0442\u0440",m:"\u0441\u043c"}},F=function(e){var t=e.prices.items.find((function(e){return null===e.quantity_from}));return t.discount_price?{price:t.discount_price,sale:"\u0421\u043a\u0438\u0434\u043a\u0430 ".concat(t.discount_value_percents,"%")}:{price:t.price,sale:null}},D=function(e){if(1===e.length){var t=F(e[0]);return r.a.createElement(g.t,{after:"".concat(t.price," \u0440\u0443\u0431 ").concat(t.sale?t.sale:""),style:{color:"#FFF"}},"\u0426\u0435\u043d\u0430")}return e.map((function(e){return e.properties.map((function(t){if(A[t.property_id]){var n=F(e);if(e.item&&"N"!==e.item.available&&null!==t.value)return r.a.createElement(g.t,{before:A[t.property_id].title,after:"".concat(n.price," \u0440\u0443\u0431 ").concat(n.sale?n.sale:""),style:{color:"#FFF"}},t.value)}}))}))},R=function(e){var t=e.setActiveItem,n=e.go,c=function(){var e=Object(T.c)((function(e){return e.categories})),t=Object(T.c)((function(e){return e.targetCategory})),n=Object(a.useState)(null),r=Object(f.a)(n,2),c=r[0],o=r[1],l=Object(a.useState)([]),i=Object(f.a)(l,2),s=i[0],p=i[1],h=Object(a.useMemo)((function(){if(t)return 0===s.length?e.filter((function(e){return e.parent_id===t.id})).map((function(e){return String(e.id)})).join(",")+","+t.id:s.join(",")}),[s,t,e]);if(Object(a.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://zoomagasin.ru/api/api.php?route=list&section_ids="+h);case 2:return t=e.sent,e.next=5,t.json();case 5:if((n=e.sent)&&n.items){e.next=8;break}return e.abrupt("return");case 8:"undefined"!==typeof n&&o(n.items);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,h]),e&&t){return{products:c,targetCat:t,categories:e,changeFilter:function(e){var t=Object(u.a)(s),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),p(t)},fil:s,getPrice:function(e){var t=e.find((function(e){return!0===e.active})).prices.items.find((function(e){return null===e.quantity_from}));return t.discount_price?{price:t.discount_price,sale:"".concat(t.discount_value_percents,"%")}:{price:t.price,sale:null}}}}}(),o=c.products,l=c.categories,i=c.targetCat,s=c.changeFilter,p=c.fil;return o&&l&&i?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.p,null,r.a.createElement(g.D,null,l.map((function(e){return e.parent_id===i.id?r.a.createElement(g.E,{key:e.id,selected:p.includes(e.id),onClick:function(){return s(e.id)}},e.name):e.id===i.id?r.a.createElement(g.E,{key:i.id,selected:p.includes(e.id),onClick:function(){return s(e.id)}},e.name):null})))),r.a.createElement(g.f,{style:{marginTop:10}},o.map((function(e){if("N"!==e.available)return r.a.createElement(g.e,{key:e.id,style:{paddingTop:8,borderRadius:13,margin:"0 0 20px 0",backgroundColor:"#007151",boxShadow:"inset 2px 2px 5px rgb(226 191 157 / 50%), 1px 1px 5px rgb(255 255 255)"},size:"l",mode:"shadow"},r.a.createElement("div",{onClick:function(){t(e),n("aboutItem")},style:{height:250,backgroundImage:e.image_url?"url("+e.image_url+")":null,backgroundSize:"contain",backgroundPosition:"center 35%",backgroundRepeat:"no-repeat",borderRadius:13}}),r.a.createElement(g.t,{textWrap:"full"},r.a.createElement(g.F,{level:1},e.name)),r.a.createElement(g.t,{textWrap:"nowrap"},r.a.createElement(g.d,{level:3},e.detail)),D(e.elements),r.a.createElement(g.t,null,r.a.createElement(g.c,{onClick:function(){t(e),n("aboutItem")},size:"m",stretched:!0,mode:"outline"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))})))):r.a.createElement(g.C,null)},B=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(JSON.parse(localStorage.getItem("orders")||"null")||{}),l=Object(f.a)(o,2),i=l[0],u=l[1],s=function(e){c(r.a.createElement(g.B,{layout:"vertical",onClose:function(){return c(null)}},e))},p=function(e){var t=e.elements.find((function(e){return e.active}));return null===t.item?e.quantity:t.item.quantity},h=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c,o,l,s,d,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(N.a)({},i),e.next=3,a[t.id].item.elements.map((function(e,t){e.active=t===n}));case 3:for(d in r=p(t),a[t.id].count>r&&(a[t.id].count=r),c=0,o=0,l=0,s=function(e){"meta"!==e&&(c+=a[e].count,a[e].item.elements.map((function(t){if(t.active){var n=F(t);o+=a[e].count*n.price}})),l+=.7*a[e].count)},a)s(d);a.meta={count:c,sum:o,weight:l},f=JSON.stringify(a),localStorage.setItem("orders",f),u(a);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{order:i,clearCart:function(){localStorage.setItem("orders",JSON.stringify({}));u({})},setOrder:u,onDecrementPosition:function(e){console.log("onDecrementPosition");var t=Object(N.a)({},i);e.id in t&&(1===t[e.id].count?delete t[e.id]:t[e.id].count--);var n=0,a=0,r=0,c=function(e){"meta"!==e&&(n+=t[e].count,t[e].item.elements.map((function(n){if(n.active){var r=F(n);a+=t[e].count*r.price}})),r+=.7*t[e].count)};for(var o in t)c(o);t.meta={count:n,sum:a,weight:r};var l=JSON.stringify(t);localStorage.setItem("orders",l),u(t)},onIncrementPosition:function(e){try{!function(){console.log("onIncrementPosition");var t=Object(N.a)({},i);if(e.id in t){var n=p(e);if(t[e.id].count>=n)throw"\u041d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(n," \u0448\u0442\u0443\u043a(\u0438) \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430");t[e.id].count++}else{if(e.elements.forEach((function(e,t){e.active=0===t})),p(e)<1)throw"\u0421\u0435\u0439\u0447\u0430\u0441 \u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043a \u043f\u043e\u043a\u0443\u043f\u043a\u0435";t[e.id]={item:e,count:1}}var a=0,r=0,c=0,o=function(n){"meta"!==n&&(a+=t[n].count,t[n].item.elements.map((function(e){if(e.active){var a=F(e);r+=t[n].count*a.price}})),c+=.7*t[e.id].count)};for(var l in t)o(l);t.meta={count:a,sum:r,weight:c};var s=JSON.stringify(t);localStorage.setItem("orders",s),u(t)}()}catch(t){s(t)}},onDeletePosition:function(e){var t=Object(N.a)({},i);delete t[e.id];var n=0,a=0,r=0,c=function(e){"meta"!==e&&(n+=t[e].count,t[e].item.elements.map((function(n){if(n.active){var r=F(n);a+=t[e].count*r.price}})),r+=.7*t[e].count)};for(var o in t)c(o);t.meta={count:n,sum:a,weight:r};var l=JSON.stringify(t);localStorage.setItem("orders",l),u(t)},changeCount:h,snackbar:n,message:s}};function q(e){return{type:"GET_CATEGORIES",payload:e}}var V=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppAddToCommunity",{}).then((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){switch(e){case 1:return"https://zoomagasin.ru/images/im-ej-logo.png";case 19:return"https://zoomagasin.ru/images/im-possum-logo.png";case 23:return"https://zoomagasin.ru/images/im-rept-logo.png";case 27:return"https://zoomagasin.ru/images/im-nasek-logo.png";default:return"https://zoomagasin.ru/images/im-drug-logo.png"}},U=function(e){var t=e.id,n=e.go,a=e.fetchedUser,c=(e.setTargetCategory,B().order),o=Object(T.b)(),l=Object(T.c)((function(e){return e.categories}));return l?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,null,r.a.createElement("div",{className:"possumHeader"})),null!==c&&r.a.createElement(O,{go:n,order:c}),r.a.createElement(g.n,{style:{paddingTop:50},header:r.a.createElement(g.o,{mode:"secondary"},"\u041f\u043e\u0447\u0435\u043c\u0443 \u043c\u044b?")},r.a.createElement(g.j,null,r.a.createElement(g.t,{before:r.a.createElement(k.a,null)},"\u0423 \u043d\u0430\u0441 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b"),r.a.createElement(g.t,{textLevel:"primary",before:r.a.createElement(k.a,null)},"\u0411\u043e\u043b\u0435\u0435 5 \u043b\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"),r.a.createElement(g.t,{textLevel:"primary",before:r.a.createElement(k.a,null)},"\u0411\u043e\u043b\u0435\u0435 1 000 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement(g.t,{textLevel:"primary",before:r.a.createElement(k.a,null)},"\u0412\u0445\u043e\u0434\u0438\u043c \u0432 \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u0438 \u0432\u0440\u0430\u0447\u0435\u0439"),r.a.createElement(g.t,{textLevel:"primary",before:r.a.createElement(k.a,null)},"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"),r.a.createElement(g.t,{textLevel:"primary",before:r.a.createElement(k.a,null)},"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432"))),r.a.createElement(g.n,{header:r.a.createElement(g.o,{mode:"secondary"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432")},l.map((function(e){return null===e.parent_id&&r.a.createElement(g.b,{key:e.id,id:e.id,onClick:function(){o({type:"SET_CATEGORY",payload:e}),n("category")},mode:"image",header:e.name,asideMode:"expand",subheader:e.description,background:r.a.createElement("div",{style:{backgroundColor:"#198662",backgroundImage:"url("+J(e.id)+")",backgroundPosition:"98% 95%",backgroundSize:50,backgroundRepeat:"no-repeat"}})})}))),r.a.createElement(g.n,{header:r.a.createElement(g.o,{mode:"secondary"},"\u0415\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b?")},r.a.createElement(g.t,{after:r.a.createElement("img",{width:40,height:22,src:z.a,alt:"Viber/WhatsApp"}),before:r.a.createElement(w.a,{fill:"#FFF",height:20,width:20})},r.a.createElement(g.s,{href:"tel:+79022954808",target:"_blank"},"+7 (902) 294-48-08")),r.a.createElement(g.t,{before:r.a.createElement(x.a,{fill:"#FFF",height:20,width:20})},r.a.createElement(g.s,{href:"https://vk.com/zoomagasin",target:"_blank"},"vk.com/zoomagasin")),r.a.createElement(g.t,{before:r.a.createElement(P.a,{fill:"#FFF",height:20,width:20})},r.a.createElement(g.s,{href:"https://zoomagasin.ru/",target:"_blank"},"zoomagasin.ru")),r.a.createElement(g.b,{header:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0432 \u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e",subheader:"\u0415\u0441\u043b\u0438 \u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0441 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u043e\u0439, \u0441\u0445\u043e\u0436\u0435\u0439 \u0441 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u043e\u0439 \u043d\u0430\u0448\u0435\u0433\u043e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 - \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 '\u0421\u0430\u0445\u0430\u0440\u043d\u044b\u0439 \u043f\u043e\u0441\u0441\u0443\u043c' \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b.",actions:r.a.createElement(g.c,{onClick:V},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")}),!a||199500866!==a.id&&15937415!==a.id?null:r.a.createElement(g.j,null,r.a.createElement(g.c,{size:"l",mode:"outline",stretched:!0,onClick:function(){return n("get_orders")}},"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b")),r.a.createElement(g.l,null))):null},M=function(e){var t=e.id,n=e.go,a=e.setActiveItem,c=B(),o=c.order,l=c.snackbar,i=Object(T.c)((function(e){return e.targetCategory}));return i?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n("home")}})}),null!==o&&r.a.createElement(O,{go:n,order:o}),r.a.createElement(g.x,{icon:r.a.createElement("div",{style:{marginTop:50,background:"url("+J(i.id)+") no-repeat",height:50,width:50}})},"\u0412\u044b\u0431\u0440\u0430\u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ",i.name),r.a.createElement(g.j,null,r.a.createElement(R,{setActiveItem:a,go:n})),r.a.createElement(g.n,{header:r.a.createElement(g.o,{mode:"secondary"},"\u0415\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b?")},r.a.createElement(g.t,{after:r.a.createElement("img",{width:40,height:22,src:z.a,alt:"Viber/WhatsApp"}),before:r.a.createElement(w.a,{height:20,width:20})},r.a.createElement(g.s,{href:"tel:+79022954808",target:"_blank"},"+7 (902) 294-48-08")),r.a.createElement(g.t,{before:r.a.createElement(x.a,{height:20,width:20})},r.a.createElement(g.s,{href:"https://vk.com/zoomagasin",target:"_blank"},"vk.com/zoomagasin")),r.a.createElement(g.t,{before:r.a.createElement(P.a,{height:20,width:20})},r.a.createElement(g.s,{href:"https://zoomagasin.ru/",target:"_blank"},"zoomagasin.ru")),r.a.createElement(g.l,null)),l):null},G=function(e){var t=e.id,n=e.go,a=e.activeItem,c=B(),o=c.order,l=c.onIncrementPosition,i=c.snackbar;return r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n("category")}})}),null!==a&&r.a.createElement(r.a.Fragment,null,null!==o&&r.a.createElement(O,{go:n,order:o}),r.a.createElement(g.n,{style:{paddingTop:50},header:r.a.createElement(g.o,{mode:"secondary"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u043e\u0432\u0430\u0440\u0435")},a.image_url&&r.a.createElement("img",{style:{width:"100%"},src:a.image_url,alt:"\u0424\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430"})),r.a.createElement(g.j,null,r.a.createElement(g.f,null,r.a.createElement(g.e,{size:"l"},r.a.createElement(g.t,{textWrap:"full"},r.a.createElement(g.F,{level:"1",weight:"semibold",style:{marginBottom:16}},a.name)),D(a.elements),r.a.createElement(g.c,{size:"xl",onClick:function(){return l(a)},mode:"outline"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")),r.a.createElement(g.e,{size:"l"},r.a.createElement(g.j,{style:{backgroundColor:"#03825e",borderRadius:10,color:"antiquewhite"}},a.detail))))),r.a.createElement(g.l,null),i)},W=n(40),L=n.n(W),Z=n(121),Y=n.n(Z),K=function(e){var t=e.deliv,n=e.sum,c=e.activePVZ,o=e.activeCity,l=e.go,i=e.typeDelivery,u=e.order,s=e.who,m=e.clearCart,d=e.setOrders_success,p=(e.fetchedUser,e.params),h=Object(a.useRef)(null),E=Object(a.useState)(""),b=Object(f.a)(E,2),v=b[0],y=b[1],O=Object(a.useState)(""),j=Object(f.a)(O,2),k=j[0],C=j[1],w=Object(a.useState)(""),S=Object(f.a)(w,2),x=S[0],_=S[1],P=Object(a.useState)(""),I=Object(f.a)(P,2),z=I[0],N=I[1],T=Object(a.useState)(null),F=Object(f.a)(T,2),D=F[0],R=F[1],B=Object(a.useState)(null),q=Object(f.a)(B,2),V=q[0],J=q[1],U=Object(a.useState)(null),M=Object(f.a)(U,2),G=M[0],W=M[1],L=Object(a.useState)(null),Z=Object(f.a)(L,2),K=Z[0],H=Z[1],Q=Object(a.useState)(""),X=Object(f.a)(Q,2),$=X[0],ee=X[1];return t.error?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.t,{textWrap:"full"},t.error)):r.a.createElement(a.Fragment,null,r.a.createElement(g.t,{style:{paddingTop:10},after:r.a.createElement(g.i,null,Math.round(Number(t.price))," \u0440\u0443\u0431.")},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"),r.a.createElement(g.t,{after:t.deliveryDateMax},"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e:"),r.a.createElement(g.t,{after:Math.round(Number(t.price))+Number(n)},"\u0418\u0442\u043e\u0433\u043e \u043a \u043e\u043f\u043b\u0430\u0442\u0435:"," "),"sdek"===i&&r.a.createElement(g.g,{expandable:!0,indicator:null!==c?c.name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",onClick:function(){return l("GetPvzList")}},"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"),"sdek"===s&&r.a.createElement(g.g,{expandable:!0,onClick:function(){return l("GetPvzList")},indicator:null!==c?c.name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"},"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"),"sdek"===s&&null!==c&&r.a.createElement(g.m,null,r.a.createElement(g.r,{value:$,onChange:function(e){return ee(e.target.value)},top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c (\u0424\u0418\u041e)"}),r.a.createElement(g.r,{value:z,onChange:function(e){return N(e.target.value)},top:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),"\u0414\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043c\u043e\u0439"===c.name&&r.a.createElement(g.m,null,r.a.createElement(g.r,{value:v,onChange:function(e){return y(e.target.value)},top:"\u0423\u043b\u0438\u0446\u0430"}),r.a.createElement(g.r,{value:k,onChange:function(e){return C(e.target.value)},top:"\u0414\u043e\u043c"}),r.a.createElement(g.r,{value:x,onChange:function(e){return _(e.target.value)},top:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}))),"PR"===s&&r.a.createElement(g.m,null,r.a.createElement(g.r,{value:$,onChange:function(e){return ee(e.target.value)},top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c (\u0424\u0418\u041e)"}),r.a.createElement(g.r,{value:v,onChange:function(e){return y(e.target.value)},top:"\u0423\u043b\u0438\u0446\u0430"}),r.a.createElement(g.r,{value:k,onChange:function(e){return C(e.target.value)},top:"\u0414\u043e\u043c"}),r.a.createElement(g.r,{value:x,onChange:function(e){return _(e.target.value)},top:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),r.a.createElement(g.r,{value:z,onChange:function(e){return N(e.target.value)},top:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})),r.a.createElement(g.j,null,r.a.createElement("a",{style:{display:"none"},target:"_blank",ref:h,id:"payLink",href:V,onClick:function(){var e={sum:Math.round(Number(t.price))+Number(n),user:Number(p.vk_user_id),num:K,jsonParams:G,params:p};m(),fetch("https://saharnypossum.herokuapp.com/pay/payaway",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("orders_success",JSON.stringify(e)),d(e)}))}},V&&r.a.createElement("div",{style:{textAlign:"center",color:"antiquewhite",background:"rgb(0 0 0 / 9%)",borderRadius:10}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",r.a.createElement("img",{style:{width:"100%"},src:Y.a,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u043f\u043b\u0430\u0442\u0435"}))),r.a.createElement(g.c,{onClick:function(e){e.preventDefault();try{if("sdek"===s){if(!c)throw"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u043f\u0443\u043d\u043a\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===$)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0424\u0418\u041e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f \u043f\u043e\u0441\u044b\u043b\u043a\u0438";if(""===z)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430";if("\u0414\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043c\u043e\u0439"===c.name){if(""===v)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===k)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===x)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===z)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}}if("PR"===s){if(""===$)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0424\u0418\u041e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f \u043f\u043e\u0441\u044b\u043b\u043a\u0438";if(""===v)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===k)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===x)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438";if(""===z)throw"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}!function(){var e=Date.now();H(e),J(null);var a={},l={};for(var i in u)if("meta"!==i){var m=u[i].item.elements.filter((function(e){return!0===e.active})),d=m[0].properties.map((function(e){return A[e.property_id]?(console.log("+"),"".concat(A[e.property_id].title," - ").concat(e.value)):(console.log("-"),"")})).join("");l[i]="".concat(u[i].item.name,". \u0428\u0442\u0443\u043a - ").concat(u[i].count,". ").concat(d)}a.order=l,a.info={amount:u.meta.sum,count:u.meta.count,weight:u.meta.weight,typeDelivery:s,activePVZ:null!==c?c.name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",orderNum:e,date:e},a.contacts={address:"\u0433. ".concat(o.name,",\u0443\u043b. ").concat(v,",\u0434. ").concat(k,",\u043a\u0432. ").concat(x),phone:z,name:$},console.log(a),W(a),fetch("https://saharnypossum.herokuapp.com/pay/sber",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({amount:Math.round(Number(t.price))+Number(n),orderNumber:e,jsonParams:a.contacts})}).then((function(e){return e.json()})).then((function(e){e.error?R(r.a.createElement(g.B,{onClose:function(){return R(null)}},"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0443")):J(String(e))})).catch((function(e){return console.log(e)}))}(),document.getElementById("payLink").style.display="block"}catch(e){R(r.a.createElement(g.B,{layout:"vertical",onClose:function(){return R(null)}},e))}},mode:"outline",size:"xl"},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c ".concat(Math.round(Number(t.price))+Number(n)," \u0440\u0443\u0431."))),D)},H=function(e){var t=e.order,n=e.onDeletePosition,a=e.onDecrementPosition,c=e.onIncrementPosition,o=e.changeCount,l=[],i=function(e,n){return 1===e.length?null:e.map((function(e,a){return e.properties.map((function(c){if(A[c.property_id]&&e.item&&"N"!==e.item.available&&null!==c.value)return r.a.createElement("button",{onClick:function(){return o(t[n].item,a)},style:{color:e.active&&"#41ca41",float:"left",margin:"auto"}},c.value)}))}))},u=function(e){if("meta"!==e){var o=function(e){var t=e.find((function(e){return!0===e.active})).prices.items.find((function(e){return null===e.quantity_from}));return t.discount_price?{price:t.discount_price,sale:"".concat(t.discount_value_percents,"%")}:{price:t.price,sale:null}}(t[e].item.elements);l.push(r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(g.b,{key:e,before:r.a.createElement(g.a,{size:96,mode:"image",src:t[e].item.image_url}),header:t[e].item.name,subheader:"".concat(o.price," \u0440\u0443\u0431 ").concat(o.sale?o.sale:""),asideMode:"dismiss",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},i(t[e].item.elements,e)),r.a.createElement("div",{style:{display:"flex",bottom:0}},r.a.createElement(g.c,{mode:"overlay_outline",onClick:function(){a(t[e].item)},size:"m",style:{float:"left",margin:5,color:"#482d06"}},"-1"),r.a.createElement("span",{style:{margin:"auto",fontSize:25,fontWeight:"bold"}},"\xa0",e in t?t[e].count:0,"\xa0"),r.a.createElement(g.c,{mode:"overlay_outline",onClick:function(){c(t[e].item)},size:"m",style:{float:"left",margin:5,color:"#482d06"}},"+1"))),onDismiss:function(){return n(t[e].item)}}),r.a.createElement(g.A,null)))}};for(var s in t)u(s);return l},Q=function(e){var t=e.id,n=e.go,c=e.goBack,o=e.typeDelivery,l=e.fetchedUser,i=e.setOrders_success,u=e.params,s=e.activeCity,m=e.activePVZ,d=Object(a.useState)(null),p=Object(f.a)(d,2),h=p[0],E=p[1],b=Object(a.useState)("sdek"),v=Object(f.a)(b,2),y=v[0],O=v[1],j=B(),k=j.order,C=j.onIncrementPosition,w=j.onDecrementPosition,S=j.clearCart,x=j.onDeletePosition,_=j.changeCount,P=j.snackbar,I=Object(a.useCallback)((function(){k.meta&&fetch("https://saharnypossum.herokuapp.com/items/getRange",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({cityCode:s.id,weight:String(k.meta.weight),count:k.meta.count,typeDelivery:null!==m?123===m.id?"137":"136":"137",postal:s.postal})}).then((function(e){return e.json()})).then((function(e){E(e)})).catch((function(e){console.log(e)}))}),[k.meta,s,m]);return Object(a.useEffect)((function(){null!==s&&I(s.id)}),[s,o,k,m,I]),k.meta&&0!==k.meta.count?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n("home")}})}),r.a.createElement(g.g,{expandable:!0,onClick:function(){return n("AllOrders")}},"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"),r.a.createElement(H,{changeCount:_,order:k,onDeletePosition:x,onDecrementPosition:w,onIncrementPosition:C,clearCart:S}),r.a.createElement(a.Fragment,null,r.a.createElement(g.j,null,r.a.createElement(g.t,{after:r.a.createElement(g.i,null,k.meta?k.meta.count:0)},"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 (\u0448\u0442\u0443\u043a\u0438)"),r.a.createElement(g.t,{after:r.a.createElement(g.i,null,k.meta?k.meta.sum:0)},"\u0421\u0443\u043c\u043c\u0430 (\u0440\u0443\u0431\u043b\u0438)")),r.a.createElement(g.n,{header:r.a.createElement(g.o,{mode:"secondary"},"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430")},r.a.createElement(g.g,{expandable:!0,onClick:function(){return n("GetCityList")},indicator:null!==s?s.name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"},"\u0413\u043e\u0440\u043e\u0434"),null!==h&&r.a.createElement(g.j,null,r.a.createElement(g.D,null,r.a.createElement(g.E,{onClick:function(){return O("sdek")},selected:"sdek"===y},"\u0421\u0414\u042d\u041a"),r.a.createElement(g.E,{onClick:function(){return O("PR")},selected:"PR"===y},"\u041f\u043e\u0447\u0442\u0430 \u0420\u043e\u0441\u0441\u0438\u0438")),"sdek"===y?r.a.createElement(K,{activeCity:s,who:y,fetchedUser:l,order:k,typeDelivery:o,go:n,activePVZ:m,deliv:h.sdek,sum:k.meta.sum,clearCart:S,setOrders_success:i,params:u}):r.a.createElement(K,{activeCity:s,who:y,fetchedUser:l,order:k,typeDelivery:o,go:n,activePVZ:m,deliv:h.PR,sum:k.meta.sum,clearCart:S,setOrders_success:i,params:u})))),r.a.createElement(g.l,null),P):r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:c})}),r.a.createElement(g.g,{expandable:!0,onClick:function(){return n("AllOrders")}},"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"),r.a.createElement(g.x,{icon:r.a.createElement(L.a,null),header:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430",action:r.a.createElement(g.c,{onClick:c,mode:"outline",size:"l"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438")}),r.a.createElement(g.l,null))},X=function(e){var t=e.id,n=e.go,c=e.goBack,o=e.setPopout,l=e.setActivePVZ,i=e.activeCity,u=Object(a.useState)([]),s=Object(f.a)(u,2),m=s[0],d=s[1];return Object(a.useEffect)((function(){o(r.a.createElement(g.y,{size:"large"})),fetch("https://saharnypossum.herokuapp.com/items/getPVZ/"+i.id).then((function(e){return e.json()})).then((function(e){d(e),o(null)})).catch((function(e){return console.log(e)}))}),[i.id,o]),0===m.length?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return c}})}),r.a.createElement(g.x,{stretched:!0,icon:r.a.createElement(L.a,null),header:"\u041f\u0443\u0441\u0442\u043e"}),r.a.createElement(g.l,null)):r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n("home")}})}),m.map((function(e){return r.a.createElement(g.g,{multiline:!0,key:e.id,onClick:function(){return function(e){l(e),c()}(e)},description:e.region||""},e.name)})),r.a.createElement(g.l,null))},$=function(e){var t=e.id,n=e.goBack,c=e.setActiveCity,o=Object(a.useState)([]),l=Object(f.a)(o,2),i=l[0],u=l[1],s=Object(a.useState)(""),m=Object(f.a)(s,2),d=m[0],p=m[1],h=Object(a.useState)(!1),E=Object(f.a)(h,2),b=E[0],v=E[1];return r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n()}})}),r.a.createElement(g.m,null,r.a.createElement(g.r,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement(g.c,{size:"xl",mode:"outline",onClick:function(){v(!0),fetch("https://sahpossum.herokuapp.com/items/getCities/"+d).then((function(e){return e.json()})).then((function(e){u(e),v(!1)})).catch((function(e){console.log(e),v(!1)}))}},"\u041d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434")),b?r.a.createElement(g.C,null):r.a.createElement(r.a.Fragment,null,i.map((function(e){return r.a.createElement(g.g,{multiline:!0,key:e.id,onClick:function(){return function(e){c(e),n()}(e)},description:e.region||""},e.name)}))),r.a.createElement(g.l,null))},ee=function(e){var t=e.id,n=e.goBack;return r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return n}})}),r.a.createElement(g.m,null,r.a.createElement(g.r,{top:"\u0423\u043b\u0438\u0446\u0430"}),r.a.createElement(g.r,{top:"\u0414\u043e\u043c"}),r.a.createElement(g.r,{top:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"})))},te=function(e){var t=e.id,n=e.params,c=e.goBack,o=Object(a.useState)(null),l=Object(f.a)(o,2),i=l[0],u=l[1],s=B().message;return Object(a.useEffect)((function(){fetch("https://saharnypossum.herokuapp.com/pay/getAllOrders",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({params:n})}).then((function(e){return e.json()})).then((function(e){e.error?s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"):u(e)}))}),[]),null===i?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:c})}),r.a.createElement(g.x,{stretched:!0,icon:r.a.createElement(L.a,null),header:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),r.a.createElement(g.l,null)):0===i.length?r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:c})}),r.a.createElement(g.x,{stretched:!0,icon:r.a.createElement(L.a,null),header:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043e\u043a",action:r.a.createElement(g.c,{onClick:c,mode:"outline",size:"l"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438")}),r.a.createElement(g.l,null)):r.a.createElement(g.u,{id:t},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:c})}),i.map((function(e){return r.a.createElement(g.g,{multiline:!0,indicator:e.status,description:e.track?"\u0422\u0440\u0435\u043a-\u043d\u043e\u043c\u0435\u0440 "+e.track:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"},"\u0417\u0430\u043a\u0430\u0437 \u2116".concat(e.num," (").concat(e.sum,"\u0440\u0443\u0431.)"))})),r.a.createElement(g.l,null))},ne=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){fetch("https://saharnypossum.herokuapp.com/pay/orders",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))}),[]);var c=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.map((function(e){if(e._id===t._id){var n=Object(N.a)({},e);return n.track=a,n}return e}));case 2:c=e.sent,r(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{arrOrders:n,changeStatus:function(e,t){var a=n.map((function(n){if(n._id===e._id){var a=Object(N.a)({},n);return a.status=t,a}return n}));r(a)},changeTrack:c,changeOrder:function(e){e.key=",NbOWn4M_2pKBccO",fetch("https://saharnypossum.herokuapp.com/pay/orders",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}},ae=n(122),re=n.n(ae),ce=function(e,t){switch(e){case"activePVZ":return r.a.createElement(g.q,{header:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"},t);case"amount":return r.a.createElement(g.q,{header:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"},t);case"count":return r.a.createElement(g.q,{header:"\u0412\u0441\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},t);case"orderNum":return r.a.createElement(g.q,{header:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"},t);case"date":return r.a.createElement(g.q,{header:"\u0414\u0430\u0442\u0430"},re()(t).format("MMMM Do YYYY, h:mm:ss a"));case"typeDelivery":return r.a.createElement(g.q,{header:"\u0422\u0438\u043f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},t);case"weight":return r.a.createElement(g.q,{header:"\u0412\u0435\u0441"},t," \u043a\u0433");default:return null}},oe=function(e){var t=e.arrOrders,n=ne(),a=n.changeStatus,c=n.changeTrack,o=n.changeOrder;return t?r.a.createElement(g.f,{style:{padding:10}},t.map((function(e){return r.a.createElement(g.e,{style:{paddingTop:8,borderRadius:13,margin:"0 0 20px 0",backgroundColor:"#007151",boxShadow:"inset 2px 2px 5px rgb(226 191 157 / 50%), 1px 1px 5px rgb(255 255 255)"},mode:"shadow",size:"l"},r.a.createElement(g.j,null,function(e){var t=[];for(var n in e)t.push(r.a.createElement(g.t,{key:n,textWrap:"full"},e[n]));return t}(e.jsonParams.order),function(e){var t=[];for(var n in e)t.push(ce(n,e[n]));return t}(e.jsonParams.info),r.a.createElement(g.q,{header:"\u0422\u0440\u0435\u043a"},r.a.createElement(g.r,{defaultValue:e.track,onChange:function(t){return c(e,t.target.value)}})),r.a.createElement(g.q,{header:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"},e.jsonParams.contacts.address," ",e.jsonParams.contacts.name," ",e.jsonParams.contacts.phone,r.a.createElement("a",{href:"https://vk.com/id"+e.user},"https://vk.com/id"+e.user)),r.a.createElement(g.z,{top:"\u0421\u0442\u0430\u0442\u0443\u0441",defaultValue:e.status,onChange:function(t){return a(e,t.target.value)}},r.a.createElement("option",{value:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d"},"\u041e\u043f\u043b\u0430\u0447\u0435\u043d"),r.a.createElement("option",{value:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"),r.a.createElement("option",{value:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"},"\u041e\u0442\u043c\u0435\u043d\u0435\u043d")),r.a.createElement(g.j,null,r.a.createElement(g.c,{size:"m",stretched:!0,mode:"outline",onClick:function(){return o(e)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}))):r.a.createElement(g.C,null)},le=function(e){var t=e.go,n=e.id,a=(e.fetchedUser,ne().arrOrders);return r.a.createElement(g.u,{id:n},r.a.createElement(g.v,{left:r.a.createElement(g.w,{onClick:function(){return t("home")}})}),r.a.createElement(oe,{arrOrders:a}))},ie=function(e){var t=e.linkParams,n=e.params,c=Object(T.b)(),o=Object(a.useState)("home"),l=Object(f.a)(o,2),s=l[0],p=l[1],E=Object(a.useState)(null),b=Object(f.a)(E,2),v=b[0],y=b[1],O=Object(a.useState)(null),j=Object(f.a)(O,2),k=j[0],C=j[1],w=Object(a.useState)(null),S=Object(f.a)(w,2),x=S[0],_=S[1],P=Object(a.useState)(null),I=Object(f.a)(P,2),z=I[0],N=I[1],A=Object(a.useState)(null),F=Object(f.a)(A,2),D=F[0],R=F[1],V=Object(a.useState)([]),J=Object(f.a)(V,2),W=J[0],L=J[1],Z=Object(a.useState)(null),Y=Object(f.a)(Z,2),K=Y[0],H=Y[1],ne=Object(a.useState)(["home"]),ae=Object(f.a)(ne,2),re=ae[0],ce=ae[1],oe=Object(a.useState)(null),ie=Object(f.a)(oe,2),ue=ie[0],se=ie[1];t.success&&console.log(t);var me=Object(a.useState)(null),de=Object(f.a)(me,2),fe=de[0],pe=de[1],he=Object(a.useState)(null),ge=Object(f.a)(he,2),Ee=ge[0],be=ge[1],ve=B().snackbar,ye=Object(a.useState)(JSON.parse(localStorage.getItem("orders_success")||"null")||null),Oe=Object(f.a)(ye,2),je=Oe[0],ke=Oe[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,y(t),C(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://zoomagasin.ru/api/api.php?route=sections");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(q(n.items));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),window.onpopstate=function(){we()}}),[]);var Ce=function(e){var t=Object(u.a)(re);t.push(e),ce(t),p(e)},we=function(){var e=Object(u.a)(re);1===e.length?i.a.send("VKWebAppClose",{status:"sucsess"}):(e.pop(),ce(e),p(e[e.length-1]))};return r.a.createElement(g.h,null,r.a.createElement(h.a,{activePanel:s,popout:k,history:re},r.a.createElement(U,{onSwipeBack:function(){return we()},id:"home",fetchedUser:v,go:Ce,setTargetCategory:_}),r.a.createElement(M,{id:"category",onSwipeBack:function(){return we()},arrItems:W,setArrItems:L,filtredArrItem:K,setFiltredArrItem:H,activeSubcat:D,setActiveSubcat:R,fetchedUser:v,go:Ce,targetCategory:x,setActiveItem:N}),r.a.createElement(G,{id:"aboutItem",onSwipeBack:function(){return we()},fetchedUser:v,go:Ce,targetCategory:x,activeItem:z}),r.a.createElement(Q,{id:"cart",go:Ce,fetchedUser:v,onSwipeBack:function(){return we()},setPopout:C,typeDelivery:ue,setTypeDelivery:se,goBack:we,orders_success:je,setOrders_success:ke,params:n,activeCity:fe,activePVZ:Ee}),r.a.createElement($,{id:"GetCityList",go:Ce,setPopout:C,goBack:we,setActiveCity:pe}),r.a.createElement(X,{id:"GetPvzList",go:Ce,setPopout:C,goBack:we,activeCity:fe,setActivePVZ:be}),r.a.createElement(ee,{id:"GetClientAdress"}),r.a.createElement(te,{id:"AllOrders",params:n,goBack:we}),r.a.createElement(le,{go:Ce,id:"get_orders",fetchedUser:v})),ve)},ue=n(59),se={categories:null,targetCategory:null},me=Object(ue.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(N.a)(Object(N.a)({},e),{},{categories:t.payload});case"SET_CATEGORY":return Object(N.a)(Object(N.a)({},e),{},{targetCategory:t.payload});default:return e}}));i.a.send("VKWebAppInit");var de=window.location.hash.replace("#","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{}),fe=window.location.search.replace("?","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{});o.a.render(r.a.createElement(T.a,{store:me},r.a.createElement(ie,{linkParams:de,params:fe})),document.getElementById("root"))},44:function(e,t,n){},58:function(e,t,n){e.exports=n.p+"static/media/mess.6ecbad3f.png"}},[[168,1,2]]]);
//# sourceMappingURL=main.6b4ba677.chunk.js.map